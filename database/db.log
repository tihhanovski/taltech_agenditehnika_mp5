/*C4*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS AL_CONFIGURATION ( PROPERTY_NAME VARCHAR(255) NOT NULL UNIQUE , PROPERTY_VALUE LONGVARCHAR ) 
CREATE TABLE IF NOT EXISTS AL_GROUPS ( GROUP_NAME VARCHAR(255) NOT NULL PRIMARY KEY , DESCRIPTION LONGVARCHAR ) 
CREATE TABLE IF NOT EXISTS AL_TABLES ( TABLE_NAME VARCHAR(255) NOT NULL PRIMARY KEY , GROUP_NAME VARCHAR(255) , DESCRIPTION LONGVARCHAR ) 
CREATE TABLE IF NOT EXISTS AL_CUSTOM_TYPE ( TABLE_NAME VARCHAR(255) , COLUMN_NAME VARCHAR(255) , TYPE VARCHAR(255) , NAME VARCHAR(255) ) 
CREATE TABLE IF NOT EXISTS AL_VIEWS ( VIEW_NAME VARCHAR(255) NOT NULL UNIQUE , VIEW_DEFINITION LONGVARCHAR , IS_VALID BOOLEAN ) 
CREATE TABLE IF NOT EXISTS AL_SELECTED_LOG_OBJECTS ( NAME VARCHAR(255) NOT NULL UNIQUE , TYPE VARCHAR(255) ) 
CREATE TABLE IF NOT EXISTS AL_DB_OBJECTS ( NAME VARCHAR(255) NOT NULL UNIQUE , TYPE VARCHAR(255) , USAGE VARCHAR(255) ) 
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
CREATE TABLE db_table ( al_id INT IDENTITY , db_column DOUBLE NULL ) 
INSERT INTO AL_TABLES VALUES('db_table',NULL,'')
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
ALTER TABLE db_table RENAME TO users 
DELETE FROM AL_TABLES WHERE TABLE_NAME='db_table'
INSERT INTO AL_TABLES VALUES('users',NULL,'')
COMMIT
ALTER TABLE users ALTER COLUMN db_column SET LONGVARCHAR 
ALTER TABLE users ALTER COLUMN db_column SET LONGVARCHAR 
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
ALTER TABLE users ALTER COLUMN db_column RENAME TO name 
CREATE INDEX "AL_SYSTEM_IDX_a70cfcdb_2a63_4df4_b504_bebe459ba566" ON users ( name ) 
ALTER TABLE users ADD CONSTRAINT "AL_SYSTEM_UQ_0cd691f3_696f_442a_b344_b8f3945a7833" UNIQUE ( name ) 
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
ALTER TABLE users ADD COLUMN db_column DOUBLE NULL 
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
ALTER TABLE users ALTER COLUMN db_column RENAME TO role 
ALTER TABLE users ALTER COLUMN role SET LONGVARCHAR 
ALTER TABLE users ALTER COLUMN role SET LONGVARCHAR 
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
INSERT INTO USERS VALUES(0,NULL,NULL)
COMMIT
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE AL_ID=0
INSERT INTO USERS VALUES(0,'Ivo',NULL)
COMMIT
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE AL_ID=0
INSERT INTO USERS VALUES(0,'Ivo','admin')
COMMIT
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
INSERT INTO USERS VALUES(1,'Kair',NULL)
COMMIT
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE AL_ID=1
INSERT INTO USERS VALUES(1,'Kaie',NULL)
COMMIT
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE AL_ID=1
INSERT INTO USERS VALUES(1,'Kaie','timetable')
COMMIT
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
